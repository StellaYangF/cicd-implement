# CICD-Implement

This repository aims to implement CICD.

## Contents

* [CI & CD 简介](#CI&CD简介)
* [CI](#CI)
* [CD](#CD持续交付)
* [CD](#CD持续部署)
* [制品&制品库](#制品&制品库)
* [工作流图示](#工作流图示)

## CI&CD简介

* Continuous Integration 持续集成
* Continuous Deliver 持续交付
* Continuous Deployment 持续部署

CI/CD 是一种通过在应用开发阶段引入自动化来频繁向客户交付应用的方法。CI/CD 的核心概念是持续集成、持续交付和持续部署。涉及测试自动化、代码发布自动化

## CI

负责将上游代码库的代码拉取下来，执行用户预定义好的构建脚本，通过一系列编译操作(**BUILD**, **TEST**, **MERGE**)后，构建出一个**制品**，并推送到制品库。

常用工具：

* GitLab
* GitHub CI
* Jenkins

现代应用开发的目标是让多位开发人员同时处理同一应用的不同功能。但是，如果企业安排在一天内将所有分支源代码合并在一起（称为“合并日”），最终可能造成工作繁琐、耗时，而且需要手动完成。

持续集成（CI）可以帮助开发人员更加频繁地（有时甚至每天）将代码更改合并到共享分支或“主干”中。一旦开发人员对应用所做的更改被合并，系统就会通过自动构建应用并运行不同级别的自动化测试（通常是单元测试和集成测试）来验证这些更改，确保这些更改没有对应用造成破坏。

## CD持续交付

完成 CI 中构建及单元测试和集成测试的自动化流程后，持续交付可自动将已验证的代码发布到存储库。为了实现高效的持续交付流程，务必要确保 CI 已内置于开发管道。持续交付的目标是拥有一个可随时部署到生产环境的代码库。

在持续交付中，每个阶段（从代码更改的合并，到生产就绪型构建版本的交付）都涉及测试自动化和代码发布自动化。在流程结束时，运维团队可以快速、轻松地将应用部署到生产环境中。

## CD持续部署

负责从制品库红拉取最新制品，通过一些列部署工具，单个或批量执行命令对服务器进行部署。

常用工具：

* Ansible 

对于一个成熟的 CI/CD 管道来说，最后的阶段是持续部署。作为持续交付——自动将生产就绪型构建版本发布到代码存储库——的延伸，持续部署可以自动将应用发布到生产环境。由于在生产之前的管道阶段没有手动门控，因此持续部署在很大程度上都得依赖精心设计的测试自动化。

## 制品&制品库

* **制品**： 构建后的产物
* **制品库**：放置制品，做中转和版本管理

常用平台：

* Nexus
* Jfrog
* harbor 
* 其他对象存储平台

## 工作流图示

![cicd-flow](./assets/cicd-flow.jpg)
![cicd-full-flow](./assets/cicd-full.jpg)